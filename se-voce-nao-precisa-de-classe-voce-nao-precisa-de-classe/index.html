<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - Se você não precisa de classe você não precisa de classe</title>
  <meta name="author" content="" />
  <meta name="description"
        content="Nos últimos dias me deparei com o seguinte (pseudo-)código:
int main(int argc, const char **argv)
{
    MyClass obj;
    HRESULT hr = obj.init();

    if ( SUCCEEDED(hr) )
    {
        if (..."/>

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta itemprop="name" content="Se você não precisa de classe você não precisa de classe"/>
  <meta itemprop="description"
        content="Nos últimos dias me deparei com o seguinte (pseudo-)código:
int main(int argc, const char **argv)
{
    MyClass obj;
    HRESULT hr = obj.init();

    if ( SUCCEEDED(hr) )
    {
        if (..."/>
  <meta itemprop="image"
        content=""/>

  
  <meta property="og:title" content="Se você não precisa de classe você não precisa de classe"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/se-voce-nao-precisa-de-classe-voce-nao-precisa-de-classe/"/>
  <meta property="og:image"
        content=""/>
  <meta property="og:description"
        content="Nos últimos dias me deparei com o seguinte (pseudo-)código:
int main(int argc, const char **argv)
{
    MyClass obj;
    HRESULT hr = obj.init();

    if ( SUCCEEDED(hr) )
    {
        if (..."/>
  <meta property="og:site_name" content="Blogue do Caloni"/>
  <meta property="article:published_time"
        content="2017-12-17T00:00:00&#43;00:00"/>
  <meta property="article:section" content="post"/>

  
  
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site"
        content=""/>
  <meta name="twitter:title" content="Se você não precisa de classe você não precisa de classe"/>
  <meta name="twitter:description"
        content="Nos últimos dias me deparei com o seguinte (pseudo-)código:
int main(int argc, const char **argv)
{
    MyClass obj;
    HRESULT hr = obj.init();

    if ( SUCCEEDED(hr) )
    {
        if (..."/>
  <meta name="twitter:creator"
        content=""/>
  <meta name="twitter:image:src"
        content="
                     /images/movies.png
                   "/>

  
  <link href="" rel="alternate" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  <link rel="stylesheet" type="text/css" href="/css/capsule.min.css"/>
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">
  <div class="container">

    <div class="navbar-brand">
      <a class="navbar-item" title="Go to Home" href="/">
        <img alt="Brand" src="/brand.svg">
        <div class="title is-6">&nbsp;Blogue do Caloni</div>
      </a>

      
      <label class="button navbar-burger is-white" for="navbar-burger-state">
        <span></span>                               
        <span></span>
        <span></span>
      </label>
    </div>

    
    <input type="checkbox" id="navbar-burger-state"/>

    <div class="navbar-menu">
      <div class="navbar-end" style="padding: 10px;">
      <big><b>
       <a title="posts dessa categoria" href="/categories/blog">blog</a>  <a title="posts dessa categoria" href="/categories/cinema">cinema</a>  <a title="posts dessa categoria" href="/categories/code">code</a> 
       <a href="/caloni"><span class="icon"><i class="fa fa-user"></i></a> <a href="index.xml"><span class="icon"><i class="fa fa-rss"></i></a>
      </big></b>
      </div>
    </div>

  </div>
</nav>


      
      <div class="container">
        <p class="title">Se você não precisa de classe você não precisa de classe</p>

        <p class="subtitle">
<i>

    <a href="https://github.com/Caloni/post/commits/master/se-voce-nao-precisa-de-classe-voce-nao-precisa-de-classe.md" title="History">
    2017-12-17
    </a>

<span class="icon"><i class="fa fa-clock-o"></span></i>2 </i>
 <span class="icon"><i class="fa fa-pencil"></i></span><a href="https://github.com/Caloni/post/blob/master/se-voce-nao-precisa-de-classe-voce-nao-precisa-de-classe.md" title="GitHub">330</a>
</p>

        <div class="taglist">
            <i>Este ainda é um rascunho publicado prematuramente e está sujeito a mudanças substanciais.</i>

        </div>

        

        
          <div class="content">
            
              <p>Nos últimos dias me deparei com o seguinte (pseudo-)código:</p>
<pre><code>int main(int argc, const char **argv)
{
    MyClass obj;
    HRESULT hr = obj.init();

    if ( SUCCEEDED(hr) )
    {
        if ( args have &quot;cmd1&quot; )
        {
            hr = obj.cmd1();
        }
        else if ( args have &quot;cmd2&quot; )
        {
            hr = obj.cmd2();
        }
        ... // você entendeu a ideia
    }
}
</code></pre>
<p>Dentro de MyClass a seguinte estrutura:</p>
<pre><code>class MyClass
{
public:
    HRESULT m_result = S_OK;

    HRESULT init();
    HRESULT cmd1();
    HRESULT cmd2();
    // você pegou a ideia
};
</code></pre>
<p>Então eu me pergunto: qual a função da classe em um código desses?</p>
<p>Bjarne Stroustrup desde o começo, em seu livro The C++ Programming Language, sugere que C++ não é uma linguagem unicamente orientada a objetos, mas multi-paradigmas. Hoje, em 2017, ela é uma linguagem genérica e até funcional. Na época poderia ser usada como orientada a objetos, mas também como estruturada e imperativa comum. O goto funciona até hoje.</p>
<p>Então o erro no código acima é supor mecanicamente que como é C++ precisa ter classe. Não. O código não precisa ter uma classe. No entanto, seu código precisa ter classe. Entendeu?</p>
<p>Ter classe é para poucos. É para programadores que se preocupam com a relação entre funcionalidade, estilo, arquitetura e todos os inúmeros elementos que tornam um código perfeito. Para ser perfeito, um código precisa levar em conta tantos elementos que apenas um programador acordado, obsessivo, fora da matrix, conseguiria observar o que deve ser feito.</p>
<p>Uma pequena sugestão:</p>
<pre><code>#include &lt;map&gt;

int main(int argc, const char **argv)
{
    MyMap cmds;

    if ( SUCCEEDED(init()) )
    {
        cmds[args]();
    }
}

HRESULT init();
HRESULT cmd1();
HRESULT cmd2();
// você pegou a ideia
</code></pre>
<p>É a melhor solução? Não. Só uma ideia para tornar o código simples de entender, enxuto para manter, com apenas o modelito básico. Tem até um map para evitar encher de ifs. Mas não precisaria se você tem meia-dúzia de funções.</p>
<p>E note que eu disse funções, não classe. E é possível ter classe sem classes.</p>

            

          </div>

        <div class="taglist">
            
    
      <a href="/categories/code">code</a> 
      <a href="/tags/draft">draft</a> 
    
    <a href="https://twitter.com/intent/tweet?text=Nos%20%c3%baltimos%20dias%20me%20deparei%20com%20o%20seguinte%20%28pseudo-%29c%c3%b3digo%3a%0aint%20main%28int%20argc%2c%20const%20char%20%2a%2aargv%29%0d%7b%0dMyClass%20obj%3b%0dHRESULT...%20http%3a%2f%2fwww.caloni.com.br%2fse-voce-nao-precisa-de-classe-voce-nao-precisa-de-classe%2f from @caloni " style="text-decoration: underline;" title="Twitter">twitter</big></a>


        </div>

        <div class="navigation-bottom">
            <span style="float: right;"><a href="http://www.caloni.com.br/cmd-e-o-encoding-fake/">Cmd e o encoding fake<span class="icon"><i class="fa fa-arrow-right"></i></span></a></span>
<span style="float: left;"><a href="http://www.caloni.com.br/a-origem-do-dragao/"><span class="icon"><i class="fa fa-arrow-left"></i></span>A Origem do Dragão</a></span>

        </div>

      </div>

    <footer class="footer">
  <div class="container">
    <span style="float: right;"><i style="font-size: small;">Blogue do Caloni 2020. Copyright é invenção do capitalismo burguês opressor. Todos os direitos não serão reservados.</i></span>
  </div>
</footer>

  </body>

</html>
