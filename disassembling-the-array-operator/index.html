<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - Disassembling the array operator</title>
  <meta name="author" content="" />
  <meta name="description"
        content="Arrays are fascinating in C language because they are so simple and so powerful at the same time. When we start to really understand them and realize all its power we are very close to understand..."/>

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta itemprop="name" content="Disassembling the array operator"/>
  <meta itemprop="description"
        content="Arrays are fascinating in C language because they are so simple and so powerful at the same time. When we start to really understand them and realize all its power we are very close to understand..."/>
  <meta itemprop="image"
        content=""/>

  
  <meta property="og:title" content="Disassembling the array operator"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/disassembling-the-array-operator/"/>
  <meta property="og:image"
        content=""/>
  <meta property="og:description"
        content="Arrays are fascinating in C language because they are so simple and so powerful at the same time. When we start to really understand them and realize all its power we are very close to understand..."/>
  <meta property="og:site_name" content="Blogue do Caloni"/>
  <meta property="article:published_time"
        content="2007-06-22T00:00:00&#43;00:00"/>
  <meta property="article:section" content="post"/>

  
  
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site"
        content=""/>
  <meta name="twitter:title" content="Disassembling the array operator"/>
  <meta name="twitter:description"
        content="Arrays are fascinating in C language because they are so simple and so powerful at the same time. When we start to really understand them and realize all its power we are very close to understand..."/>
  <meta name="twitter:creator"
        content=""/>
  <meta name="twitter:image:src"
        content="
                     /images/movies.png
                   "/>

  
  <link href="" rel="alternate" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  <link rel="stylesheet" type="text/css" href="/css/capsule.min.css"/>
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">
  <div class="container">

    <div class="navbar-brand">
      <a class="navbar-item" title="Go to Home" href="/">
        <img alt="Brand" src="/brand.svg">
        <div class="title is-6">&nbsp;Blogue do Caloni</div>
      </a>

      
      <label class="button navbar-burger is-white" for="navbar-burger-state">
        <span></span>                               
        <span></span>
        <span></span>
      </label>
    </div>

    
    <input type="checkbox" id="navbar-burger-state"/>

    <div class="navbar-menu">
      <div class="navbar-end" style="padding: 10px;">
      <big><b>
       <a title="posts dessa categoria" href="/categories/blog">blog</a>  <a title="posts dessa categoria" href="/categories/cinema">cinema</a>  <a title="posts dessa categoria" href="/categories/code">code</a> 
       <a href="/caloni"><span class="icon"><i class="fa fa-user"></i></a> <a href="index.xml"><span class="icon"><i class="fa fa-rss"></i></a>
      </big></b>
      </div>
    </div>

  </div>
</nav>


      
      <div class="container">
        <p class="title">Disassembling the array operator</p>

        <p class="subtitle">
<i>

    <a href="https://github.com/Caloni/post/commits/master/disassembling-the-array-operator.md" title="History">
    2007-06-22
    </a>

<span class="icon"><i class="fa fa-clock-o"></span></i>2 </i>
 <span class="icon"><i class="fa fa-pencil"></i></span><a href="https://github.com/Caloni/post/blob/master/disassembling-the-array-operator.md" title="GitHub">401</a>
</p>

        <div class="taglist">
            <i>Este ainda é um rascunho publicado prematuramente e está sujeito a mudanças substanciais.</i>

        </div>

        

        
          <div class="content">
            
              <p>Arrays are fascinating in C language because they are so simple and so powerful at the same time. When we start to really understand them and realize all its power we are very close to understand another awesome feature of the language: pointers.</p>
<p>When I was reading the K&amp;R book (again) I was enjoying the language specification details in the Appendix A. It was specially odd the description as an array must be accessed:</p>
<p>A postfix expression followed by an expression in square brackets is a postfix expression. One of the expressions shall have the type &ldquo;pointer to T&rdquo; and the other shall have enumeration or integral type. The result is an lvalue of type &ldquo;T&rdquo;. (&hellip;) The expression E1 [ E2 ] is identical (by definition) to *( (E1) + (E2) ).</p>
<p>Notice that the rules don&rsquo;t specify the order of expressions to access the array. In other words, it doesn&rsquo;t matter for the language if we use a pointer before the integer or an integer before the pointer.</p>
<pre><code>#include &lt;iostream&gt;
#include &lt;cassert&gt;

int main()
{
    char quote[] = &quot;Show me your Code, and I'll tell you who you are.&quot;;
    int index = 13;
	
    std::cout &lt;&lt; &quot;And the language is: &quot; &lt;&lt; quote [ index ] &lt;&lt; std::endl;
	
    assert( quote[index] == index[quote] );
    assert( quote[13] == 13[quote] );
    assert( *(quote + index) == &quot;That's C!&quot;[7] );
	
    return 13[quote] - &quot;CThings&quot;[0];
} 
</code></pre>
<p>The quote[index] bellow shows that we can use both orders and the code will compile successfully.</p>
<pre><code>std::cout &lt;&lt; &quot;And the language is: &quot; &lt;&lt; index [ quote ] &lt;&lt; std::endl;
</code></pre>
<p>This code doesn&rsquo;t show how obscure we can be. If we use a constant integer replacing the index, by example, the code starts to be an IOCCC participant:</p>
<pre><code>std::cout &lt;&lt; &quot;And the language is: &quot; &lt;&lt; 13 [ quote ] &lt;&lt; std::endl;
</code></pre>
<p>Is this a valid code yet, right? The expression types are following the rule. It is easy to see if we always think about using the &ldquo;universal match&rdquo; *( (E1) + (E2) ). Even bizarre things like this are easy to realize:</p>
<pre><code>std::cout &lt;&lt; 8[&quot;Is this Code right?&quot;] &lt;&lt; std::endl;
</code></pre>
<p>Obs.: this kind of &ldquo;obscure rule&rdquo; hardly will pass in a code review since it is a useless feature. Be wise and don&rsquo;t use it in production code. This is just an amusing detail in the language specification scope. It can help in analysis, never in programming.</p>

            

          </div>

        <div class="taglist">
            
    
    
      <a href="/categories/code">code</a> 
      <a href="/tags/draft">draft</a> 
    
    <a href="https://twitter.com/intent/tweet?text=Arrays%20are%20fascinating%20in%20C%20language%20because%20they%20are%20so%20simple%20and%20so%20powerful%20at%20the%20same%20time.%20When%20we%20start%20to...%20http%3a%2f%2fwww.caloni.com.br%2fdisassembling-the-array-operator%2f from @caloni " style="text-decoration: underline;" title="Twitter">twitter</big></a>


        </div>

        <div class="navigation-bottom">
            <span style="float: right;"><a href="http://www.caloni.com.br/historia-do-windows-parte-10/">História do Windows - parte 1.0<span class="icon"><i class="fa fa-arrow-right"></i></span></a></span>
<span style="float: left;"><a href="http://www.caloni.com.br/introducao-ao-debugging-tools-for-windows/"><span class="icon"><i class="fa fa-arrow-left"></i></span>Introdução ao Debugging Tools for Windows</a></span>

        </div>

      </div>

    <footer class="footer">
  <div class="container">
    <span style="float: right;"><i style="font-size: small;">Blogue do Caloni 2020. Copyright é invenção do capitalismo burguês opressor. Todos os direitos não serão reservados.</i></span>
  </div>
</footer>

  </body>

</html>
