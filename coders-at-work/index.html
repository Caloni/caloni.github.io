<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  <head>
  <meta charset="utf-8" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - Coders at Work: Reflections on the Craft of Programming</title>
  <meta name="author" content="" />

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta property="og:title" content="Coders at Work: Reflections on the Craft of Programming"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/coders-at-work/"/>
  <meta property="og:image"
        content="/author.jpg"/>
  <meta property="og:description"
        content="
&ldquo;Personally I have never believed that it is possible to be a good coder without being a good programmer nor a good programmer without being a good designer, communicator, and thinker.&rdquo; -..."/>

  
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  <link rel="stylesheet" type="text/css" href="/css/capsule.min.css"/>
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">

  <div class="container">

    <div class="navbar-brand">
      <a class="navbar-item" title="Go to Home" href="/">
        <img alt="Brand" src="/brand.svg">
        <div class="title is-6">&nbsp;Blogue do Caloni</div>
      </a>
    </div>

    <div class="navbar-menu">
      <div class="navbar-end" style="padding: 10px;">
      <big><b>
       <a title="posts dessa categoria" href="/categories/blog">blog</a>  <a title="posts dessa categoria" href="/categories/cinema">cinema</a>  <a title="posts dessa categoria" href="/categories/code">code</a>  <a title="posts dessa categoria" href="/categories/draft">draft</a> 
      </big></b>
      </div>
    </div>

  </div>
</nav>


      
      <div class="container">
        <p class="title">Coders at Work: Reflections on the Craft of Programming</p>

        <p class="subtitle">

    <a style="" href="https://github.com/Caloni/blog/blob/master/content/posts/coders-at-work.md" title="source">
    2011-10-14
    </a>
    

</p>

        <div class="taglist">
            <i>Este ainda é um rascunho publicado prematuramente e está sujeito a mudanças substanciais.</i>

        </div>

        

        
          <div class="content">
            
              <blockquote>
<p>&ldquo;Personally I have never believed that it is possible to be a good coder without being a good programmer nor a good programmer without being a good designer, communicator, and thinker.&rdquo; - Jamie Zawinski</p>
</blockquote>
<p>Como Joel e Atwood disseram, a leitura de Coders At Work é tão útil quanto ler o código dos outros, só que em um estilo mais condensado, que se aproveita das décadas de experiência dessa gente para aprimorarmos nossos processos de desenvolvimento e, muitas vezes, a forma de pensarmos sobre software.</p>
<p>No meu estilo de leitura circular, adaptada do brilhante (maluco?) método de Dmitry Vostokov, as coisas vão mais devagar, e estou apenas no início do livro, tendo passado por Jamie Zawinski (desenvolvedor da equipe original do Netscape), Brad Fitzpatrick (criador do Live Journal) e terminado recentemente Douglas Crockford. O artigo de Joel sobre Zawinski demonstra seu apreço pelo codificador pensante, ou aquele que faz as coisas acontecerem e não fica preso eternamente na armadilha da arquitetura. Eu acredito que as seguintes passagens do livro demonstram seu pensamento melhor do que se eu fosse tentar traduzi-los, começando por Jamie Zawinski:</p>
<blockquote>
<p>Personally I have never believed that it is possible to be a good coder without being a good programmer nor a good programmer without being a good designer, communicator, and thinker. (&hellip;) Start converting it into the bad one until it stops working. That&rsquo;s primary tool of reverse engineering. (&hellip;) Your competitor&rsquo;s six-month 1.0 has crap code and they&rsquo;re going to have to rewrite it in two years but, guess what: they can rewrite it because you don&rsquo;t have a job anymore. (&hellip;) The design process is definitely an ongoing thing; you never know what the design is until the program is done. So I prefer to get my feet wet as early as possible; get something on the screen so I can look at it sideways.(&hellip;) I&rsquo;ve noticed that one thing that separates good programmers from bad programmers is that good programmers are more facile at jumping between layers of abstraction they can keep the layers distinct while making changes and choose the right layer to make changes in. (&hellip;) I think one of the most important things, for me anyway, when building something from the ground up like that is, as quickly as possible, getting the program to a state that you, the programmer, can use it. Even a little bit. Because that tells you where to go next in a really visceral way. (&hellip;) I don&rsquo;t want to be a mathematician but I&rsquo;m not going to criticize someone who is a mathematician. It&rsquo;s weird that people often confuse those two pursuits. People who are into very theoretical computer science are thought of in this same way as people who are shipping desktop applications. And they don&rsquo;t really have a lot to do with each other. (&hellip;) Then there was another book that everybody thought was the greatest thing ever in that same period&rsquo;Design Patterns&rsquo;which I just thought was crap. It was just like, programming via cut and paste. Rather than thinking through your task you looked through the recipe book and found something that maybe, kinda, sorta felt like it, and then just aped it. That&rsquo;s not programming; that&rsquo;s a coloring book. (&hellip;</p>
</blockquote>
<p>De certa forma, o mesmo pragmatismo pode ser observado em Douglas Crockford, que utiliza o método de leitura de código tanto na entrevista por candidatos (&ldquo;traga-me o código que tem orgulho de ter escrito e explique-o pra mim&rdquo;) quanto no dia-a-dia do projeto, para que todos entendam e aproveitem a evolução do projeto como um todo, além de constituir, na minha visão, uma das melhores dicas de auto-management que uma equipe de programadores poderia ter.</p>
<blockquote>
<p>One of the things I&rsquo;ve been pushing is code reading. I think that is the most useful thing that a community of programmers can do for each other&rsquo;spend time on a regular basis reading each other&rsquo;s code. There&rsquo;s a tendency in project management just to let the programmers go off independently and then we have the big merge and then we have the big merge and if it builds then we ship it and we&rsquo;re done and we forget about it. One of the consequences of that is that if you have weak or confused programmers you&rsquo;re not aware of their actual situation until much too late. And so the risks to the project, that you&rsquo;re that you&rsquo;re going to have to build with stuff that&rsquo;s bad and the delays that that causes, that&rsquo;s unacceptable. The other thing is that you may have brilliant programmers on the project who are not adequately mentoring the other people on the team. Code reading solves both of those problems.</p>
</blockquote>
<p>Can you talk a bit about how you conduct a code reading?</p>
<blockquote>
<p>At each meeting, someone&rsquo;s responsible for reading their code, and they&rsquo;ll walk us through everything, and the rest of us will observe. It&rsquo;s a really good chance for the rest of the team to understand how their stuff is going to have to fit with that stuff.
We get everybody around the table; everybody gets a stack of paper. We also blow it up on the screen. And we all read through it together. And we&rsquo;re all commenting on the code as we go along. People say, &lsquo;I don&rsquo;t understand this comment,&rsquo; or, &lsquo;This comment doesn&rsquo;t seem to describe the code.&rsquo; That kind of stuff can be so valuable because as a programmer you stop reading your own comments and you&rsquo;re not aware that you&rsquo;re misdirecting the reader. Having the people you work with helping to keep your code clean is a huge service&rsquo;you find defects that you never would&rsquo;ve found on your own.
I think an hour of code reading is worth two weeks of QA. It&rsquo;s just a really effective way of removing errors. If you have someone who is strong reading, then the novices around them are going to learn a lot that they wouldn&rsquo;t be learning otherwise, and if you have a novice reading, he&rsquo;s going to get a lot of really good advice.</p>
</blockquote>
<p>So if you don&rsquo;t clean up every seventh cycle you may be faced with the choice of whether or not to do a big rewrite. How do you know when, if ever, it&rsquo;s time for a big rewrite?</p>
<blockquote>
<p>Generally the team knows when it&rsquo;s time. Management finds out a lot later. The team is getting beat up pretty regularly, making too many pretty regularly, making too many bugs; the code&rsquo;s too big, it&rsquo;s too slow; we&rsquo;re falling behind. They know why. It&rsquo;s not because they became stupider or lazier. It&rsquo;s because the code base is no longer serving the purpose that it needs to.</p>
</blockquote>
<p>Esse pequeno trecho da entrevista de Brendan Eich, de Coders at Work, revela parte das frustações que os programadores de linha de frente sofrem com os ambientes de depuração, muitas vezes aquém dos desafios atuais. Sinceramente, não sinto isso em meu dia-a-dia, e acho o Visual Studio um excelente depurador com interface (mas que perde feio para o WinDbg em casos mais hardcore). Porém, fica a percepção curiosa do criador do JavaScript.</p>
<blockquote>
<p>Proofs are hard. Most people are lazy. Larry Wall is right. Laziness should be a virtue. So that&rsquo;s why I prefer automation. Proofs are something that academics love and most programmers hate.&rdquo; - Brendan Eic</p>
</blockquote>
<p>SGI:</p>
<blockquote>
<p>Diagnosing it was hard because it was timing-sensitive. It had to do with these machines being abused by terminal concentrators. People were hooking up a bunch of PTYs to real terminals. Students in a lab or a bunch of people in a mining software company in Brisbane, Australia in this sort of &rsquo;70s sea of cubes with a glass wall at &rsquo;70s sea of cubes with a glass wall at the end, behind which was a bunch of machines including the SGI two-processor machine. That was hard and I&rsquo;m glad we found it. These bugs generally don&rsquo;t linger for years but they are really hard to find. And you have to sort of suspend your life and think about them all the time and dream about them and so on. You end up doing very basic stuff, though. It&rsquo;s like a lot of other bugs. You end up bisecting&rsquo;you know &lsquo;wolf fence.&rsquo; You try to figure out by monitoring execution and the state of memory and try to bound the extent of the bug and control flow and data that can be addressed. If it&rsquo;s a wild pointer store then you&rsquo;re kinda screwed and you have to really start looking at harder-to-use tools, which have only come to the fore recently, thanks to those gigahertz processors, like Valgrind and Purify.</p>
</blockquote>
<p>Ferramentas de Depuração Avançadas:</p>
<blockquote>
<p>Instrumenting and having a checked model of the entire memory hierarchy is big. Robert O&rsquo;Callahan, our big brain in New Zealand, did his own debugger based on the Valgrind framework, which efficiently logs every instruction so he can re-create the entire program state at any point. It&rsquo;s not just a time-traveling debugger. It&rsquo;s a full database so you see a data structure and there&rsquo;s a field with a scrogged value and you can say, &lsquo;Who wrote to that last?&rsquo; and you get the full stack. You can reason from effects back to causes. Which is the whole game in debugging. So it&rsquo;s very slow. It&rsquo;s like a hundred times slower than real time, but there&rsquo;s hope.
Or you can use one of these faster recording VMs&rsquo;they checkpoint only at system call and I/O boundaries. They can re-create corrupt program states at any boundary but to go in between those is harder. But if you use that you can probably close in quickly at near real time and then once you get to that stage you can transfer it into Rob&rsquo;s Chronomancer and run it much slower and get all the program states and find the bug.</p>
</blockquote>
<p>Depuradores da Indústria:</p>
<blockquote>
<p>Debugging technology has been sadly underresearched. That&rsquo;s another example where there&rsquo;s a big gulf between industry and academia: the academics are doing proofs, sometimes by hand, more and more mechanized thanks to the POPLmark challenge and things like that. But in the real world we&rsquo;re all in debuggers and they&rsquo;re pieces of shit from the &rsquo;70s like GDB.
Yeah. So I use GDB, and I&rsquo;m glad GDB, at least on the Mac, has a watch-point facility that mostly works. So I can watch an address and I can catch it changing from good bits to bad bits. That&rsquo;s pretty helpful. Otherwise I&rsquo;m using printfs to bisect. Once I get close enough usually I can just try things inside GDB or use some amount of command scripting. But it&rsquo;s incredibly weak. The scripting language itself is weak. I think Van Jacobson added loops and I don&rsquo;t even know if those made it into the real GDB, past the FSF hall monitors.</p>
</blockquote>
<p>Multithreading:</p>
<blockquote>
<p>But there&rsquo;s so much more debugging can do for you and these attempts, like Chronomancer and Replay, are good. They certainly changed the game for me recently. But I don&rsquo;t know about multithreading. There&rsquo;s The multithreaded stuff, frankly, scares me because before I was married and had kids it took a lot of my life. And not everybody was ready to think about concurrency and all the possible combinations of orders that are out there for even small scenarios. Once you combine code with other people&rsquo;s code it just gets out of control. You can&rsquo;t possibly model the state space in your head. Most people aren&rsquo;t up to it. I could be like one of these chestthumpers on Slashdot&rsquo;when I blogged about &lsquo;Threads suck&rsquo; someone was saying, &lsquo;Oh he doesn&rsquo;t know anything. He&rsquo;s not a real man.&rsquo; Come on, you idiot. I got a trip to New Zealand and Australia. I got some perks. But it was definitely painful and it takes too long. As Oscar Wilde said of socialism, &lsquo;It takes too many evenings.</p>
</blockquote>
<p>E isso é tudo que guardarei deste livro. Talvez o revisite daqui a algumas décadas para comparar os novos tempos que viveremos.</p>
<blockquote>
<p>In the real world one big split is between people who use symbolic debuggers and people who use print statements. - Peter Seibe</p>
</blockquote>

            

          </div>

        <div class="taglist">
            
      <a href="/categories/code">code</a> 
      <a href="/tags/draft">draft</a>  <a href="/tags/books">books</a> 
    


        </div>

        <div class="navigation-bottom">
            <span style="float: right;"><a href="http://www.caloni.com.br/familia-vende-tudo/">Família Vende Tudo &#129094;</a></span>
<span style="float: left;"><a href="http://www.caloni.com.br/os-goonies/">&#129092; Os Goonies</a></span>

        </div>

      </div>

    <footer class="footer">
  <div class="container">
    <span style="float: right;"><i style="font-size: small;">Blogue do Caloni 2020. Copyright é invenção do capitalismo burguês opressor. Todos os direitos não serão reservados.</i></span>
  </div>
</footer>

  </body>

</html>
