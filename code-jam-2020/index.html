<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - Code Jam 2020</title>
  <meta name="author" content="" />
  <meta name="description"
        content="O Code Jam esse ano terminou rápido para mim. Estou enferrujado? Nem tanto. Apenas dei menos atenção ao evento no seu início, mas apesar de me concentrar nas últimas 11 horas não tive um resultado..."/>

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta itemprop="name" content="Code Jam 2020"/>
  <meta itemprop="description"
        content="O Code Jam esse ano terminou rápido para mim. Estou enferrujado? Nem tanto. Apenas dei menos atenção ao evento no seu início, mas apesar de me concentrar nas últimas 11 horas não tive um resultado..."/>
  <meta itemprop="image"
        content=""/>

  
  <meta property="og:title" content="Code Jam 2020"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/code-jam-2020/"/>
  <meta property="og:image"
        content=""/>
  <meta property="og:description"
        content="O Code Jam esse ano terminou rápido para mim. Estou enferrujado? Nem tanto. Apenas dei menos atenção ao evento no seu início, mas apesar de me concentrar nas últimas 11 horas não tive um resultado..."/>
  <meta property="og:site_name" content="Blogue do Caloni"/>
  <meta property="article:published_time"
        content="2020-04-05T00:00:00&#43;00:00"/>
  <meta property="article:section" content="post"/>

  
  
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site"
        content=""/>
  <meta name="twitter:title" content="Code Jam 2020"/>
  <meta name="twitter:description"
        content="O Code Jam esse ano terminou rápido para mim. Estou enferrujado? Nem tanto. Apenas dei menos atenção ao evento no seu início, mas apesar de me concentrar nas últimas 11 horas não tive um resultado..."/>
  <meta name="twitter:creator"
        content=""/>
  <meta name="twitter:image:src"
        content="
                     /images/movies.png
                   "/>

  
  <link href="" rel="alternate" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  <link rel="stylesheet" type="text/css" href="/css/capsule.min.css"/>
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">
  <div class="container">

    <div class="navbar-brand">
      <a class="navbar-item" title="Go to Home" href="/">
        <img alt="Brand" src="/brand.svg">
        <div class="title is-6">&nbsp;Blogue do Caloni</div>
      </a>

      
      <label class="button navbar-burger is-white" for="navbar-burger-state">
        <span></span>                               
        <span></span>
        <span></span>
      </label>
    </div>

    
    <input type="checkbox" id="navbar-burger-state"/>

    <div class="navbar-menu">
      <div class="navbar-end" style="padding: 10px;">
      <big><b>
       <a title="posts dessa categoria" href="/categories/blog">blog</a>  <a title="posts dessa categoria" href="/categories/cinema">cinema</a>  <a title="posts dessa categoria" href="/categories/code">code</a> 
      </big></b>
      </div>
    </div>

  </div>
</nav>


      
      <div class="container">
        <p class="title">Code Jam 2020</p>

        <p class="subtitle">

    <a href="https://github.com/Caloni/blog/blob/master/content/post/code-jam-2020.md" title="source">
    2020-04-05
    </a>

</p>

        <div class="taglist">
            <i>Este ainda é um rascunho publicado prematuramente e está sujeito a mudanças substanciais.</i>

        </div>

        

        
          <div class="content">
            
              <p>O Code Jam esse ano terminou rápido para mim. Estou enferrujado? Nem tanto. Apenas dei menos atenção ao evento no seu início, mas apesar de me concentrar nas últimas 11 horas não tive um resultado satisfatório, obtendo 24 pontos ao total, o que não me dá direito para o torneio, que exige pelo menos 30.</p>
<p>Minha abordagem nesse problema foi o básico de ir lendo os valores e verificando para cada novo elemento da linha se havia repetição nos valores já lidos da mesma linha. Eu me compliquei na hora de fazer a mesma coisa para as colunas, pois inseri essa checagem dentro do loop da linha, evitando, assim, sempre a última coluna. Foi a parte que mais perdi tempo útil de todo o torneio (não li todos os exercícios antes).</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

int M[100][100];
int J[100];

int main() {
    int T, N, n, t, i, j, k, ic, ii, jj, kk;
    scanf(&quot;%d&quot;, &amp;T);

    for (t = 1; t &lt;= T; ++t) {
        scanf(&quot;%d&quot;, &amp;N);
        memset(J, 0, N * sizeof(int));
        ii = 0, jj = 0, kk = 0;

        for (j = 0; j &lt; N; ++j) {
            ic = 0;

            for (i = 0; i &lt; N; ++i) {
                scanf(&quot;%d&quot;, &amp;n);
                M[i][j] = n;

                for (k = 0; k &lt; i; ++k) {
                    if (!ic &amp;&amp; M[k][j] == M[i][j])
                        ic = 1;
                }

                if (i == j)
                    kk += M[i][j];
            }
            ii += ic;

        }

        for (i = 0; i &lt; N; ++i) {
            for (j = 0; j &lt; N; ++j) {
                for (k = 0; k &lt; j; ++k) {
                    if (!J[i] &amp;&amp; M[i][k] == M[i][j]) {
                        J[i] = 1;
                        jj++;
                    }
                }
            }
        }

        printf(&quot;Case #%d: %d %d %d\n&quot;,
            t, kk, ii, jj);
    }

    return 0;
}
</code></pre>
<p>Esse foi o mais simples de todos. Entendendo o enunciado, em que o título dá uma dica valiosa sobre o comportamento do algoritmo (aninhado), foi só usar a mesma lógica que nós programadores usamos na hora de aninhar parênteses.</p>
<pre><code>#include &lt;ctype.h&gt;
#include &lt;stdio.h&gt;

int main() {
    int T, t;
    char S[105];
    char S1[100 * 10 * 2];
    char* pS, * pS1, diff, digit, last_digit;
    scanf(&quot;%d&quot;, &amp;T);

    for (t = 1; t &lt;= T; ++t) {
        scanf(&quot;%s&quot;, S);
        pS = S, pS1 = S1;
        last_digit = '0';
        while (isdigit(digit=*pS++)) {
            diff = digit - last_digit;
            if( diff&gt;0 )
                while( diff--&gt;0 )
                    *pS1++ = '(';
            else if( diff&lt;0 )
                while( diff++&lt;0 )
                    *pS1++ = ')';
            last_digit = digit;
            *pS1++ = last_digit;
        }
        while( isdigit(--last_digit) )
                    *pS1++ = ')';
        *pS1 = 0;
        printf(&quot;Case #%d: %s\n&quot;, t, S1);
    }

    return 0;
}
</code></pre>
<p>Esse exercício me parecia fácil no começo. Desenhei na minha janela um esboço da ideia inicial, que era manter um registro de todos os minutos de um dia e a cada nova tarefa popular cada minuto. Meu erro principal foi não considerar que todos os minutos de uma tarefa devem estar sob a responsabilidade de apenas uma pessoa. Corrigido isso, meu código passou nos poucos testes disponíveis no problema, mas não passou na hora de submeter. Estou sem saber até agora o que fiz de errado.</p>
<pre><code>#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main() {
    int T, t, N, n, s, S, E, c, j, I = 0;
    char A[60 * 24];
    char Y[1000 + 1];
    scanf(&quot;%d&quot;, &amp;T);

    for (t = 1; t &lt;= T; ++t) {
        scanf(&quot;%d&quot;, &amp;N);
        memset(A, 0, 60 * 24);
        memset(Y, 0, 1000 + 1);

        for (n = 0; n &lt; N; ++n) {
            scanf(&quot;%d %d&quot;, &amp;S, &amp;E);
            c = 1, j = 1;
            for (s = S; s &lt; E; ++s) {
                if (c &amp;&amp; (A[s] &amp; 1) != 0) c = 0;
                if (j &amp;&amp; (A[s] &amp; 2) != 0) j = 0;
            }
            if (c || j) {
                Y[n] = c ? 'C' : 'J';
                for (s = S; s &lt; E; ++s)
                    A[s] |= (c ? 1 : 2);
            }
            else goto impossible;
        }

        printf(&quot;Case #%d: %s\n&quot;, t, Y);
        continue;

    impossible:
        printf(&quot;Case #%d: IMPOSSIBLE\n&quot;, t);
    }

    return 0;
}
</code></pre>
<p>Esse foi o mais divertido porque envolveu mexer em ambiente. O script iterativo do Google (interactiverunner.py) não funcionou direito no Windows, mas depois de uns testes no WSL percebi que o erro mesmo é não dar flush nos printf do meu lado. Sempre haverá problemas de buffer em stdin/stdout.</p>
<pre><code>#include &lt;stdarg.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;Windows.h&gt;

unsigned mask(unsigned B) {
    unsigned m = 0, i;
    for (i = 0; i &lt; B; ++i)
        m |= 1 &lt;&lt; i;
    return m;
}

unsigned reverse(unsigned n, unsigned B) {
    unsigned i, t, r = 0;
    for(i=0; i &lt; B; ++i ) {
        t = (n &amp; (1 &lt;&lt; i));
        if( t )
            r |= (1 &lt;&lt; ((B - 1) - i));
    }
    return r;
}

int main() {
    unsigned T, t, B, i, j, b, n0, n, n2;
    char v;

    while (!IsDebuggerPresent())
        Sleep(1000);
    scanf(&quot;%d %d&quot;, &amp;T, &amp;B);

    for (t = 1; t &lt;= T; ++t) {
        n0 = n = n2 = j = 0;

        while (j &lt; B / 2 - 1) {
            for (i = j; i &lt; j + 5; ++i) {
                printf(&quot;%d\n&quot;, i + 1); fflush(stdout);
                scanf(&quot;%d&quot;, &amp;b);
                n |= (b &lt;&lt; i);
            }
            for (i = B - 1; i &gt; B - 6; --i) {
                printf(&quot;%d\n&quot;, i + 1); fflush(stdout);
                scanf(&quot;%d&quot;, &amp;b);
                n |= (b &lt;&lt; i);
            }
            for (i = j; i &lt; j + 5; ++i) {
                printf(&quot;%d\n&quot;, i + 1); fflush(stdout);
                scanf(&quot;%d&quot;, &amp;b);
                n2 |= (b &lt;&lt; i);
            }
            for (i = B - 1; i &gt; B - 6; --i) {
                printf(&quot;%d\n&quot;, i + 1); fflush(stdout);
                scanf(&quot;%d&quot;, &amp;b);
                n2 |= (b &lt;&lt; i);
            }

            if (n == n2)
                ;
            else if (n == (~n2 &amp; mask(B)))
                n = ~n &amp; mask(B);
            else if (reverse(n, B) == n2)
                n = reverse(n, B);
            else
                n = reverse(~n &amp; mask(B), B);

            if( j &gt; 0 )
                n &amp;= (mask(10) &lt;&lt; 5);
            else
                n &amp;= ~(mask(10) &lt;&lt; 5);
            n0 |= n;
            n = n2 = 0;
            j += 5;
        }
		
        for (i = 0; i &lt; B; ++i) {
            printf(&quot;%c&quot;, ((n &gt;&gt; i) &amp; 1) ? '1' : '0'); fflush(stdout);
        }
        printf(&quot;\n&quot;); fflush(stdout);
        do scanf(&quot;%c&quot;, &amp;v);
        while (v != 'Y' &amp;&amp; v != 'N');
        if (v != 'Y')
            return t;
    }

    return 0;
}
</code></pre>
<p>De qualquer forma, não consegui resolver mais do que 10 bits. Já estava ficando tarde e eu me perdi em digressões de como tornar o código maleável para adivinhar mais que duas viradas quânticas. Deixei esse código experimental de lado e fui ler o próximo.</p>
<p>Apenas li o enunciado. Ele falava sobre o quadrado latino, assim como o problema original. E como tive dores de cabeça por causa desse primeiro exercício, e faltava apenas uma hora e meia para terminar a prova, dei por satisfeito mais um ano brincando de programar.</p>

            

          </div>

        <div class="taglist">
            
    
      [<a href="/categories/code">code</a>] 
      [<a href="/tags/draft">draft</a>]  [<a href="/tags/puzzle">puzzle</a>] 
    
    <a href="https://twitter.com/intent/tweet?text=O%20Code%20Jam%20esse%20ano%20terminou%20r%c3%a1pido%20para%20mim.%20Estou%20enferrujado%3f%20Nem%20tanto.%20Apenas%20dei%20menos%20aten%c3%a7%c3%a3o%20ao%20evento%20no%20seu...%20http%3a%2f%2fwww.caloni.com.br%2fcode-jam-2020%2f from @caloni " style="text-decoration: underline;" title="Twitter">twitter</big></a>


        </div>

        <div class="navigation-bottom">
            <span style="float: right;"><a href="http://www.caloni.com.br/central-do-brasil/">Central do Brasil<span class="icon"><i class="fa fa-arrow-right"></i></span></a></span>
<span style="float: left;"><a href="http://www.caloni.com.br/golang-e-c/"><span class="icon"><i class="fa fa-arrow-left"></i></span>Golang e C</a></span>

        </div>

      </div>

    <footer class="footer">
  <div class="container">
    <span style="float: right;"><i style="font-size: small;">Blogue do Caloni 2020. Copyright é invenção do capitalismo burguês opressor. Todos os direitos não serão reservados.</i></span>
  </div>
</footer>

  </body>

</html>
