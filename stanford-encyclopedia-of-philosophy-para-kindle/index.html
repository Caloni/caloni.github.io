<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - Stanford Encyclopedia of Philosophy Para Kindle</title>
  <meta name="author" content="" />
  <meta name="description"
        content="A enciclopédia mais completa e de maior respeito da internet não é um enciclopédia geral, mas uma de filosofia. Está hospedada na Universidade de Stanford e possui revisão por pares e toda a..."/>

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta itemprop="name" content="Stanford Encyclopedia of Philosophy Para Kindle"/>
  <meta itemprop="description"
        content="A enciclopédia mais completa e de maior respeito da internet não é um enciclopédia geral, mas uma de filosofia. Está hospedada na Universidade de Stanford e possui revisão por pares e toda a..."/>
  <meta itemprop="image"
        content=""/>

  
  <meta property="og:title" content="Stanford Encyclopedia of Philosophy Para Kindle"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/stanford-encyclopedia-of-philosophy-para-kindle/"/>
  <meta property="og:image"
        content=""/>
  <meta property="og:description"
        content="A enciclopédia mais completa e de maior respeito da internet não é um enciclopédia geral, mas uma de filosofia. Está hospedada na Universidade de Stanford e possui revisão por pares e toda a..."/>
  <meta property="og:site_name" content="Blogue do Caloni"/>
  <meta property="article:published_time"
        content="2018-07-15T00:00:00&#43;00:00"/>
  <meta property="article:section" content="post"/>

  
  
  <meta name="twitter:card" content="summary"/>
  <meta name="twitter:site"
        content=""/>
  <meta name="twitter:title" content="Stanford Encyclopedia of Philosophy Para Kindle"/>
  <meta name="twitter:description"
        content="A enciclopédia mais completa e de maior respeito da internet não é um enciclopédia geral, mas uma de filosofia. Está hospedada na Universidade de Stanford e possui revisão por pares e toda a..."/>
  <meta name="twitter:creator"
        content=""/>
  <meta name="twitter:image:src"
        content="
                     /images/movies.png
                   "/>

  
  <link href="" rel="alternate" type="application/rss+xml"
        title="Blogue do Caloni"/>
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  <link rel="stylesheet" type="text/css" href="/css/capsule.min.css"/>
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">
  <div class="container">

    <div class="navbar-brand">
      <a class="navbar-item" title="Go to Home" href="/">
        <img alt="Brand" src="/brand.svg">
        <div class="title is-6">&nbsp;Blogue do Caloni</div>
      </a>

      
      <label class="button navbar-burger is-white" for="navbar-burger-state">
        <span></span>                               
        <span></span>
        <span></span>
      </label>
    </div>

    
    <input type="checkbox" id="navbar-burger-state"/>

    <div class="navbar-menu">
      <div class="navbar-end" style="padding: 10px;">
      <big><b>
       <a title="posts dessa categoria" href="/categories/blog">blog</a>  <a title="posts dessa categoria" href="/categories/cinema">cinema</a>  <a title="posts dessa categoria" href="/categories/code">code</a> 
       <a href="/caloni"><span class="icon"><i class="fa fa-user"></i></a> <a href="index.xml"><span class="icon"><i class="fa fa-rss"></i></a>
      </big></b>
      </div>
    </div>

  </div>
</nav>


      
      <div class="container">
        <p class="title">Stanford Encyclopedia of Philosophy Para Kindle</p>

        <p class="subtitle">
<i>

    <a href="https://github.com/Caloni/post/commits/master/stanford-encyclopedia-of-philosophy-para-kindle.md" title="History">
    2018-07-15
    </a>

<span class="icon"><i class="fa fa-clock-o"></span></i>3 </i>
 <span class="icon"><i class="fa fa-pencil"></i></span><a href="https://github.com/Caloni/post/blob/master/stanford-encyclopedia-of-philosophy-para-kindle.md" title="GitHub">567</a>
</p>

        <div class="taglist">
            <i>Este ainda é um rascunho publicado prematuramente e está sujeito a mudanças substanciais.</i>

        </div>

        

        
          <div class="content">
            
              <p>A enciclopédia mais completa e de maior respeito da internet não é um enciclopédia geral, mas uma de filosofia. Está hospedada na Universidade de Stanford e possui revisão por pares e toda a autoridade de ser escrita por especialistas nos verbetes em questão. O único problema (até agora) era não ser possível baixá-la para degustar no Kindle. Até agora.</p>
<p>Para realizar esta operação será necessário usar as seguintes ferramentas:</p>
<ul>
<li>wget</li>
<li>sed</li>
<li>sort</li>
<li>Calibre</li>
</ul>
<p>O projeto de conversão (disponível aqui) foi feito pensando em usuários do Windows, mas pode ser adaptado facilmente para qualquer ambiente. Se trata de um conjunto de arquivos batch (script) que realiza vários comandos, a saber:</p>
<p>Este batch baixa todo o conteúdo do site da Stanford em um único diretório. O processo pode demorar mais ou menos, dependendo da sua banda, mas aqui em casa (50MB) demorou cerca de meia-hora pra mais.</p>
<pre><code>wget --recursive --domains plato.stanford.edu --page-requisites --no-parent --convert-links --restrict-file-names=windows --no-directories --html-extension https://plato.stanford.edu/contents.html 
</code></pre>
<p>Este batch chama dois outros batch, call calibreremovehead.bat e call calibreremovebottom.bat, que limpam das entradas os cabeçalhos e finais em comum que são repetitivos e desnecessários para gerar um ebook, como links úteis de navegação. Como as entradas do site já possuem marcadores, isso facilitou o trabalho.</p>
<pre><code>for %%i in (index.html.*.html) do sed -n -i &quot;/BEGIN ARTICLE HTML/,$p&quot; %%i

for %%i in (index.html.*.html) do sed -i &quot;/END ARTICLE HTML/,$d&quot; %%i
</code></pre>
<p>Esta batch gera os índices das entradas baseado em seus títulos, e os nomes dos arquivos serão usados para links no TOC do Calibre.</p>
<pre><code>if exist calibre_entries.txt del calibre_entries.txt
for %%i in (index.html.*.html) do calibre_title.bat %%i &gt;&gt; calibre_entries.txt
sed -i -e &quot;s/&lt;em&gt;//&quot; -e &quot;s/&lt;\/em&gt;//&quot; calibre_entries.txt
</code></pre>
<p>Algumas entradas possuem o marcador em, que deve ser retirado antes de ordenar os títulos.</p>
<pre><code>sed -i -e &quot;s/&lt;em&gt;//&quot; -e &quot;s/&lt;\/em&gt;//&quot; calibre_entries.txt
</code></pre>
<p>Se não ordenarmos por título o único índice de nosso livro será inútil.</p>
<pre><code>sort calibre_entries.txt &gt; calibre_entries_sorted.txt
</code></pre>
<p>Ao final do processo com o wget percebi que algumas entradas foram baixadas mais de uma vez. Várias delas. Por isso eliminei as duplicatas usando um programa Windows chamado doublekiller.exe, mas basta você usar qualquer ferramenta que encontra os .html da mesma pasta que possuem o mesmo hash e eliminar as duplicadas. Isso deve ser feito nesse passo antes de:</p>
<p>Essa parte do processo precisa converter as entradas no formato Título Link para entradas HTML com a tag a, no formato que o Calibre espera:</p>
<pre><code>sed -e &quot;s/\(^.*\) \(index.*$\)/        &lt;a href=\&quot;\2\&quot;&gt;\1&lt;\/a&gt;&lt;br\/&gt;/&quot; calibre_entries_sorted.txt &gt; calibre_template_entries.html
</code></pre>
<p>Por fim, antes de usar o Calibre é necessário juntar os arquivos de template em um arquivo final de TOC, o calibre.html. Ao final desse processo passaremos ao Calibre em si.</p>
<pre><code>copy /Y calibre_template_begin.html+calibre_template_entries.html+calibre_template_end.html calibre.html
</code></pre>
<p>Para realizar este passo basta arrastar ou abrir o arquivo html central que foi criado, e a partir dele iniciar a conversão. Note que após arrastar já será criado um zip com todos os HTMLs relacionados.</p>
<p>Após abrir pelo Calibre ele insere na biblioteca e é só converter para MOBI (Kindle) ou EPUB (outros leitores) ou qualquer outro formato desejado. A nota final aqui é que como se trata de um arquivo gigantesco (50 MB em HTML zipado, 80 MB em MOBI) é melhor baixar a versão 64 bits do Calibre e ter muita memória RAM. Voilà!</p>
<p>E por hoje é só. Se tudo der certo você poderá copiar e colar dentro do seu leitor todas as entradas de uma enciclopédia indispensável para quem está estudando filosofia. Enjoy.</p>

            

          </div>

        <div class="taglist">
            
    
      <a href="/categories/blog">blog</a> 
      <a href="/tags/draft">draft</a>  <a href="/tags/tools">tools</a>  <a href="/tags/philosophy">philosophy</a> 
    
    <a href="https://twitter.com/intent/tweet?text=A%20enciclop%c3%a9dia%20mais%20completa%20e%20de%20maior%20respeito%20da%20internet%20n%c3%a3o%20%c3%a9%20um%20enciclop%c3%a9dia%20geral%2c%20mas%20uma%20de%20filosofia.%20Est%c3%a1...%20http%3a%2f%2fwww.caloni.com.br%2fstanford-encyclopedia-of-philosophy-para-kindle%2f from @caloni " style="text-decoration: underline;" title="Twitter">twitter</big></a>


        </div>

        <div class="navigation-bottom">
            <span style="float: right;"><a href="http://www.caloni.com.br/por-dentro-do-roteiro-tom-stempel/">Por Dentro do Roteiro<span class="icon"><i class="fa fa-arrow-right"></i></span></a></span>
<span style="float: left;"><a href="http://www.caloni.com.br/python27-protobuf-py2exe-cx_freeze/"><span class="icon"><i class="fa fa-arrow-left"></i></span>Python27, protobuf, py2exe e buildexe</a></span>

        </div>

      </div>

    <footer class="footer">
  <div class="container">
    <span style="float: right;"><i style="font-size: small;">Blogue do Caloni 2020. Copyright é invenção do capitalismo burguês opressor. Todos os direitos não serão reservados.</i></span>
  </div>
</footer>

  </body>

</html>
