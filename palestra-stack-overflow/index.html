<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  
  
      
  
      
  

  <head>
  <meta charset="utf-8" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - Palestra: Stack Overflow</title>
  <meta name="author" content="" />

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta property="og:title" content="Palestra: Stack Overflow"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/palestra-stack-overflow/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="Há umas semanas (sim, estava enrolado para falar sobre isso) ministrei uma nova palestra lá em Sorocaba. Cheguei no meio de uma greve de ônibus, o que atrasou o evento em uma hora e me deu tempo de..."/>

  
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/img/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">

  <div class="container">

    <div class="navbar-brand">
        <img alt="Brand" src="/img/brand.svg">
        &nbsp;
        <a class="navbar-item" title="Go to Home" href="/">
            <div class="is-6">Blogue do Caloni</div>
        </a>
    </div>

    

  </div>
</nav>


      
      <div class="container">
        <p class="title">

Palestra: Stack Overflow

</p>

        <p class="subtitle">

  Wanderley Caloni,
  
    
  
    
  
  <a href="https://github.com/Caloni/blog/blob/master/content/posts/palestra-stack-overflow.md">2016-06-04</a>

</p>

        

        
          <div class="content">

            
              <p>Há umas semanas (sim, estava enrolado para falar sobre isso) ministrei uma nova palestra lá em Sorocaba. Cheguei no meio de uma greve de ônibus, o que atrasou o evento em uma hora e me deu tempo de sobre para pensar nas desgraças que serão cidades próximas da capital crescendo desordenadamente graças às regulações estatais.</p>
<p>Mas divago.</p>
<p>A ideia da palestra foi do meu amigo Alan Silva (a.k.a. jumpi), e era para a SEMANA DA COMPUTAÇÃO E TECNOLOGIA -- mas nada tem a ver com computação, nem tecnologia, mas com oportunidade de emprego de estagiários para empresas corporativistas da área. O foco era sair da mesmisse que os representantes de R.H. fazem em falar de cultura, visão, valores e outras besteiras e falar um pouco mais de bits e bytes, algo que falta a essa geração.</p>
<p>Meu público era muito, muito jovem, e foquei erroneamente em conceitos muito, muito antigos para eles, então não tenho muita certeza se fui útil. De qualquer forma, foi um prazer falar sobre engenharia da computação atrelado a ataque na pilha de execução (sim, um salto enorme para baixo, do R.H. para a placa de memória RAM).</p>
<p>O conteúdo e a palestra está no GitHub e a palestra em si pode ser vista logo abaixo; a apresentação do conteúdo está mais abaixo, e peço desculpas por não ter tido tempo de apresentar todo ele (mesmo com quase duas horas):</p>
<p><a href="http://www.slideshare.net/slideshow/embedcode/key/qRb4TSKjnf8Wx">http://www.slideshare.net/slideshow/embedcode/key/qRb4TSKjnf8Wx</a></p>
<p>PS: Ah, esqueci. Também fiz um vídeo para complementar o conteúdo da palestra. Segue:</p>
<p><a href="https://www.youtube.com/embed/kSKQQDTBRXQ?list=PLa0QVTprDkHBz6fjuzy4kU1iTLUnRWkeW">https://www.youtube.com/embed/kSKQQDTBRXQ?list=PLa0QVTprDkHBz6fjuzy4kU1iTLUnRWkeW</a></p>
<p>Um StackOverflow é definido pela escrita em uma região não autorizada de memória. Stack overflow, overrun, etc, não interessando a nomenclatura &quot;oficial&quot;, o importante aqui é como um bug de acesso à memória pode permitir acesso exclusivo a regiões de memória que não estariam disponíveis para um atacante se não fosse por esse bug.</p>
<p>No exemplo do código deste projeto, um usuário fictício utiliza um código que possui controle de acesso, mas também possui um bug: ele escreve em uma região da memória inadvertidamente. Dessa forma, é possível explorar essa falha no código para escrever um novo endereço de retorno na pilha (stack), ganhando acesso, dessa forma, a código que não estaria disponível em situações normais de temperatura e pressão.</p>
<p>Para explorar esse tipo de falha, primeiro devemos entender a execução do código na arquitetura que se pretende atacar, além de alguns conceitos específicos do sistema operacional alvo.</p>
<ul>
<li>
<p>UML: Mundo real aplicado a engenharia.</p>
</li>
<li>
<p>Programação: Codificação do mundo real.</p>
</li>
<li>
<p>Assembly: Ponte entre ser humano e máquina.</p>
</li>
<li>
<p>1's e 0's: Codificação lógica do computador.</p>
</li>
<li>
<p>Impulsos elétricos: Voltamos para o mundo real.</p>
</li>
<li>
<p>Qubit: Voltamos para a Matrix.</p>
</li>
<li>
<p>(&quot;IBM disponibiliza computador quântico para público&quot;)</p>
</li>
<li>
<p>Mais abstrações: Memória Virtual, Threads, I/O.</p>
</li>
<li>
<p>Movimentação de memória (mov, lea)</p>
</li>
<li>
<p>Cálculos matemáticos (add, div)</p>
</li>
<li>
<p>Meta-comandos (push, pop, ret, jmp)</p>
</li>
<li>
<p>Registradores (e[abcd]x, [bs]sp, eip)</p>
</li>
<li>
<p>Endereço Virtual ([Kernel|User] Space)</p>
</li>
<li>
<p>Endereço Físico (RAM, ROM, Storage, placas)</p>
</li>
<li>
<p>Qual o sentido de apontar para a próxima instrução?</p>
</li>
<li>
<p>R: Saber onde continuar a execução.</p>
</li>
<li>
<p>Demo: Chamada de função.</p>
</li>
<li>
<p>Demo: Retorno de função.</p>
</li>
<li>
<p>Qual o sentido de existir uma stack?</p>
</li>
<li>
<p>R: Conseguir chamar funções.</p>
</li>
<li>
<p>Demo: Chamada de função.</p>
</li>
<li>
<p>Demo: Passagem de argumentos.</p>
</li>
<li>
<p>Demo: Retorno de função.</p>
</li>
<li>
<p>Escalonamento de threads</p>
</li>
<li>
<p>Virtualização da memória</p>
</li>
<li>
<p>Controle de acesso</p>
</li>
<li>
<p>Paginação</p>
</li>
<li>
<p>Plug and Play</p>
</li>
<li>
<p>Windows NT</p>
</li>
<li>
<p>Dave Cutler</p>
</li>
<li>
<p>xBox One</p>
</li>
<li>
<p>Hypervisor</p>
</li>
<li>
<p>Thread: Uma ilusão satisfatória.</p>
</li>
<li>
<p>Fibers, Co-Routines, Cores, Pipe Line, Branch Prediction.</p>
</li>
<li>
<p>Computação Quântica: Hackeando o Universo.</p>
</li>
<li>
<p>Python, F#, Lambdas C++11, Métodos, Função Virtual.</p>
</li>
<li>
<p>Bloco de memória chama... Outro bloco de memória</p>
</li>
<li>
<p>[[[C]]]]decl e Std(?)call (M$).</p>
</li>
<li>
<p>Demo: Função em C sendo chamada.</p>
</li>
<li>
<p>Demo: Função da Microsoft sendo chamada.</p>
</li>
<li>
<p>Ou: Porque o printf precisa ser cdecl.</p>
</li>
<li>
<p>Page Tables, PTEntries, Page Fault, Memory Map.</p>
</li>
<li>
<p>Demo: Process Explorer.</p>
</li>
<li>
<p>2 bits: Quatro possibilidades.</p>
</li>
<li>
<p>Read-Only Memory, Execute Memory.</p>
</li>
<li>
<p>Ah, vamos para o BAR: Base Address Randomization.</p>
</li>
<li>
<p>Demo: Ver se isso funciona, mesmo.</p>
</li>
<li>
<p>ESP Verification.</p>
</li>
<li>
<p>Buffer overrun.</p>
</li>
<li>
<p>0xCCCCCCCCCCCCCCCCCCCCC</p>
</li>
</ul>

            

          </div>

        <div class="taglist">
            
    
      <a href="/tags/code">code</a>  <a href="/tags/draft">draft</a> 
    <a class="externalgray" href="https://telegram.me/share/url?url=http://www.caloni.com.br/palestra-stack-overflow/">discuss</a>


        </div>

        <div class="navigation-bottom">
            <span class="next-in-section"><a href="http://www.caloni.com.br/ninfomaniaca-volume-2/">&#x25C1; Ninfomaníaca Volume 2</a></span>
<span class="prev-in-section"><a href="http://www.caloni.com.br/chocolate/">&#x25B7; Chocolat</a></span>

        </div>

      </div>

    <footer class="footer">
  <div class="container">
    <span style="float: right;"><i style="font-size: small;">Blogue do Caloni <a href="https://github.com/Caloni/blog">2021.04.19</a> </i></span>
  </div>
</footer>

  </body>

</html>
