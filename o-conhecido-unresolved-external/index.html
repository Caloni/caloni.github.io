<!DOCTYPE html>
<html lang="en-us" dir="ltr" itemscope itemtype="http://schema.org/Article">

  
  
      
  
      
  

  <head>
  <meta charset="utf-8" />

  
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Blogue do Caloni - O conhecido unresolved external</title>
  <meta name="author" content="" />

  <meta name="generator" content="Hugo 0.67.1" />

  
  <meta property="og:title" content="O conhecido unresolved external"/>
  <meta property="og:type"
        content="article"/>
  <meta property="og:url" content="http://www.caloni.com.br/o-conhecido-unresolved-external/"/>
  <meta property="og:image"
        content="/img/author.jpg"/>
  <meta property="og:description"
        content="O artigo anterior mostrou que nem sempre as coisas são simples de resolver, mas que sempre existe um caminho a seguir e que, eventualmente, todos os problemas se solucionarão.
Porém, resolver um..."/>

  
  <link href="" rel="feed" type="application/rss+xml"
        title="Blogue do Caloni"/>

  
  
  <link rel="stylesheet" type="text/css" href="/css/custom.css"/>

  
  <script>
  
    
      <!-- Google Analytics -->
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-50557403-2', 'auto');
      ga('send', 'pageview');
    
  
  </script>
  <script src="/js/jquery.min.js"></script>
  <script src="/js/list.js"></script>

  
  <link rel="icon" href="/img/favicon.ico"/>
  </head>


  <body style="min-height:100vh;display:flex;flex-direction:column">

    <nav class="navbar has-shadow is-white"
     role="navigation" aria-label="main navigation">

  <div class="container">

    <div class="navbar-brand">
        <img alt="Brand" src="/img/brand.svg">
        &nbsp;
        <a class="navbar-item" title="Go to Home" href="/">
            <div class="is-6">Blogue do Caloni</div>
        </a>
    </div>

    

  </div>
</nav>


      
      <div class="container">
        <p class="title">

O conhecido unresolved external

</p>

        

        
          <div class="content">

            
              <p>O <a href="http://www.caloni.com.br/o-caso-da-funcao-de-delay-load-desaparecida">artigo anterior</a> mostrou que nem sempre as coisas são simples de resolver, mas que sempre existe um caminho a seguir e que, eventualmente, todos os problemas se solucionarão.</p>
<p>Porém, resolver um problema por si só não basta: é preciso <strong>rapidez</strong>. E como conseguimos rapidez para resolver problemas? Um jeito que eu, meu cérebro e o <a href="http://www.dumpanalysis.org/blog/">Dmitry Vostokov</a> conhecem é <strong>montando padrões</strong>.</p>
<p>Um padrão nos ajuda a não pensar novamente em coisas que sabemos a resposta, de tantas vezes que já fizemos. Só precisamos saber o caminho para resolver determinado problema.</p>
<p>Mesmo assim, existem diversos caminhos a percorrer. Até mesmo para um singelo e batidíssimo &quot;<strong>unresolved external</strong>&quot;.</p>
<h4 id="primeiro-passo-você-está-usando-a-lib-correta">Primeiro passo: você está usando a LIB correta?</h4>
<p>O erro mais comum é usar uma LIB onde não está a função que estamos usando, ou usar uma versão diferente da mesma LIB que não contém a função, ou contém, mas com assinatura (parâmetros da função) diferentes. Isso pode ser verificado no código-fonte da LIB, se disponível, ou então pelo uso do <strong>dumpbin</strong>, como já vimos anteriormente.</p>
<!-- raw HTML omitted -->
<p>Às vezes, porém, não estamos usando a função diretamente e não conhecemos quem a usaria. Para isso que hoje em dia os compiladores mais espertos nos dizem em que parte do código foi referenciado a tal função:</p>
<pre><code>test.obj : error LNK2019: unresolved external symbol _func referenced in function _main
</code></pre>
<p>É sábio primeiro inspecionar a função que referencia, para depois entender porque ela não foi encontrada. Mesmo parecendo diferente, essa operação faz parte do primeiro passo, que é <strong>identificar a origem</strong>.</p>
<h4 id="segundo-passo-você-digitou-direito">Segundo passo: você digitou direito?</h4>
<p>Parece estúpido, mas às vezes é esse o caso. Essa é a segunda coisa a fazer porque não é tão comum quanto a primeira, visto que hoje em dia é rotina colocarmos as funções em um _header _e incluirmos esse cabeçalho em nosso código-fonte (em C++, praticamente obrigatório). Se houvesse discrepância entre o nome da função chamada e o nome da função existente, provavelmente teríamos um <strong>erro de compilação</strong> (&quot;função não encontrada&quot;) antes do erro de <em>linking</em>.</p>
<h4 id="terceiro-passo-tente-incluir-a-função-diretamente-no-seu-código">Terceiro passo: tente incluir a função diretamente no seu código</h4>
<p>Se a LIB não está cooperando, e der pouco trabalho, experimente incluir a função inteira (ou o cpp) dentro do seu projeto, para linkar diretamente. Se funcionar, então existe alguma diferença de compilação entre os dois projetos (o seu e o da LIB) para que haja uma divergência no nome procurado. Procure nas opções de projeto.</p>
<h4 id="quarto-passo-comece-de-novo">Quarto passo: comece de novo!</h4>
<p>Sempre que nos deparamos com um problema que aos poucos vai consumindo o nosso tempo, tendemos a gastar mais tempo fazendo coisas inúteis que sabemos que não irá adiantar de nada. Às vezes fazer <em>brute force</em> pode dar certo. Outras vezes, seria melhor recomeçar a pesquisa e tentar entender de fato o que está acontecendo na compilação. Em outras palavras: gastar o seu tempo <strong>pensando</strong> pode ser mais produtivo do que agir instintivamente.</p>

            

          </div>

        <div class="taglist">
            <p class="author">

  Wanderley Caloni,
  
    
  
    
  
  <a href="https://github.com/Caloni/blog/blob/master/content/posts/o-conhecido-unresolved-external.md">2008-07-18</a>

</p>

            
      <a href="/categories/code">code</a> 
      <a href="/tags/draft">draft</a> 
    <a class="externalgray" href="https://t.me/bloguedocalonidiscuss">discuss</a>


        </div>

      </div>

  </body>

</html>
